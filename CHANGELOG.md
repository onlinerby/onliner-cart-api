
# CHANGELOG

## 21.02.2020

* Добавлен метод для создания внутреннего комментария для магазина по заказу (POST /orders/{order_key}/shop-comments)
* Добавлен метод для получения списка внутренних комментариев для магазина по заказу (GET /orders/{orderKey}/shop-comments)

## 14.01.2020

* Online-оплата заказов
* Добавлено новое поле в информацию о заказе (GET /orders, GET /orders/{orderKey})
  * Добавлено поле `payment.status` с указанием статуса оплаты в блоке с информацией о заказе
* Добавлен метод для изменения способа оплаты заказа (POST /orders/{orderKey}/change-payment-type)

## 14.11.2019

* Новая карта статусов заказа
* Стоимость и срок доставки заказа вычисляются на основании тарифной сетки курьерской доставки магазина
* Добавлены новые поля в информацию о заказе (GET /orders, GET /orders/{orderKey})
  * Добавлено поле `is_new_flow` в блок с информацией о заказе
  * Добавлены поля `first_name`, `last_name` в блок контактных данных пользователя
  * Добавлен новый блок с детализацией адреса доставки `address_fields` в блок с информацией о доставке
  * Добавлены поля `street`, `building`, `apartment`, `block`, `floor`, `comment` в новый блок с детализацией адреса доставки
  * Добавлены поля `type`, `price`, `days`, `comment`, `is_fake` в блок с информацией о доставке
  * Добавлено поле `payment.type` в блоке с информацией о заказе
  * Поле `order_cost` будет возвращать стоимость заказа с учетом стоимости доставки для новых заказов
  * Поле `contact.name` признано устаревшим и будет убрано после завершения перехода на новую карту статусов заказа
  * Объекты `delivery.town` и `delivery.country` в блоке `positions` актуальны только для заказов, оформленных по старому сценарию (к которым не применялась тарифная сетка)
* Добавлена возможность изменения стоимости доставки (в меньшую сторону) (PATCH /orders/{orderId})
* Добавлена возможность указать комментарий к доставке при передаче заказа в доставку (PATCH /orders/{orderId})

## 28.06.2019

* Убрана поддержка валюты BYR:
  * Убрано поле `total_cost` из блока с информацией о заказе
  * Убрано поле `order_cost.converted.BYR` из блока с информацией о заказе
  * Убрано поле `price.amount` из блока с информацией о ценовой позиции (каждый объект в массиве positions)
  * Убрано поле `position_price.converted.BYR` из блока с информацией о ценовой позиции (каждый объект в массиве positions)
  * Убрано поле `delivery.town.price` из блока с информацией о ценовой позиции (каждый объект в массиве positions)
  * Убрано поле `delivery.town.delivery_price.converted.BYR` из блока с информацией о ценовой позиции (каждый объект в массиве positions)
  * Убрано поле `delivery.country.price` из блока с информацией о ценовой позиции (каждый объект в массиве positions)
  * Убрано поле `delivery.country.delivery_price.converted.BYR` из блока с информацией о ценовой позиции (каждый объект в массиве positions)

## 24.04.2018

* При отмене заказа необходимо указывать причину отмены (PATCH /orders/{orderId}, GET /resources/shop-cancel-reasons)

## 23.11.2017

* Добавлен артикул товара в описание позиции (GET /orders, GET /orders/{orderKey})

## 27.12.2016

* Удален метод для удаления позиций из заказа (DELETE /orders/{orderId}/entries/{entryId})
* Удален метод для изменения позиций в заказе (PATCH /orders/{orderId}/entries/{entryId})

## 12.12.2016

* Запрещено превышать изначально указанное клиентом количество позиций в заказе (метод PATCH /orders/{orderId}/entries/{entryId})
* Добавлено отображение изначально указанного клиентом количества позиций в заказе в методы получения информации о заказах

## 08.12.2016

* Удален метод для разделения заказа продавцом (POST /orders/{orderId}/divide)

## 04.09.2016

* Первая версия документации Cart API
