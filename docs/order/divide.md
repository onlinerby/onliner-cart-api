## Разделить заказ

### POST /orders/{orderId}/divide

Магазин может разделить на 2 заказа любой свой неподтвержденный заказ.

Предполагается, что магазин может использовать разделение заказа для удобства доставки, например если часть товаров в заказе может быть доставлена в течение дня, а остальная - в течение более длительного периода.

Должен быть передан список идентификаторов позиций заказа, из которых необходимо сформировать новый заказ, удалив их из старого.
Вся остальная информация для нового заказа копируется без изменений из старого.

Если хоть одна из перечисленных позиций не найдена в указанном заказе, операция разделения заказа не выполняется, возвращается соответствующее сообщение об ошибке.

### Параметры запроса

|Параметр|Тип|Описание|
|---|---|---|
|entry_ids|array|Список идентификаторов позиций заказа для нового заказа|

### Пример запроса

```http
POST /orders/qz2wa/divide
Authorization: bearer <token>
Accept: application/json; charset=utf-8
Content-Type: application/json; charset=utf-8
```
```json
{
    "entry_ids": [1, 2]
}
```

### Пример ответа

```json
{
    "key": "jfk44",
    "created_at": "2015-10-12T09:00:00+03:00",
    "updated_at": "2015-10-12T09:00:00+03:00",
    "process_deadline": "2015-10-12T09:20:00+03:00",
    "process_time_left": 2700,
    "shop_id": 1,
    "contact": {
        "name": "Тестовый пользователь",
        "email": "test@onliner.by",
        "phone": "+375291234567"
    },
    "delivery": {
        "city": "Минск",
        "address": "пр-т Дзержинского, 5"
    },
    "comment": "Доставка с 9 до 18"
}
```

### Описание полей ответа

В ответе возвращается описание нового заказа.

[Соответствует неполному формату ответа при получении информации о заказе](show.md)

### Oтвет при попытке изменить несуществующий заказ
```http
HTTP/1.1 404 Not Found
```
```json
{
    "message": "Order %ORDER_ID% not found"
}
```

### Ответ при невалидном запросе

```http
HTTP/1.1 422 Unprocessable Entity
Content-Type: application/json; charset=utf-8
```
```json
{
    "message": "Validation failed",
    "errors": {
        "status": [
            "Недопустимый статус заказа"
        ]
    }
}
```

### Возможные ошибки для полей:

|Параметр|Ошибки|
|---|---|
|status|Недопустимый статус заказа|
|entry_ids|Одна или несколько позиций не найдены в указанном заказе<br/>Нельзя перенести все позиции из заказа<br/>Укажите позиции для переноса<br/>Значение поля должно быть массивом|
|entry_ids.N|Поле обязательно для заполнения<br/>Значение поля должно быть целым числом<br/>Значение поля должно быть не менее 1|
